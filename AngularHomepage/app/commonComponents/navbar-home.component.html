<!-- Navbar för inloggade konton -->
<nav class="navbar navbar-light bg-faded fixed-top nav-main justify-content-between" id="navbar-home">
    <a class="navbar-brand" id="logotype" href="" [routerLink]="['/home']">Logotype</a>

    <div class="nav-item d-none d-lg-block">
        <div id="searchbar">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon2"><i class="fas fa-search"></i></span>
                </div>
                <input [(ngModel)]="searchText" type="text" class="form-control" placeholder="Sök efter användare">
            </div>
        </div>
        <div *ngIf="searchText" class="dropdown-menu dropdown-menu--searchbar show">
            <div *ngFor="let item of users | filter: searchText" class="dropdown-item link">
                <i class="fas fa-user-circle"></i> {{item.firstName}} {{item.lastName}}
            </div>
        </div>
    </div>

    <ul class="nav flex-row">
        <li class="nav-item">
            <a class="navbar-brand" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fas fa-user-circle"></i> {{currentUser.FirstName}} {{currentUser.LastName}} <i class="fas fa-angle-down" aria-hidden="true"></i></a>
            <div class="dropdown-menu dropdown-menu-right width-15">
                <a href="#" class="dropdown-item" [routerLink]="['/profile']"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i> Min profil</a>

                <ng-container *ngIf="currentUser.UserRights == 10">
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item" [routerLink]="['/admin-panel']"><i class="fas fa-database fa-fw" aria-hidden="true"></i> Administratörsverktyg</a>
                </ng-container>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item" (click)="logOut()"  [routerLink]="['/front']" role="button"><i class="fas fa-sign-out-alt fa-fw" aria-hidden="true"></i> Logga ut</a>
            </div>
        </li>
        <li class="nav-item">
            <div data-toggle="dropdown" class="notification-bell" role="button" aria-haspopup="true" aria-expanded="false">
                <i class="far fa-bell fa-2x" aria-hidden="true" id="bell"></i>
                <h6 *ngIf="notifications > 0" class="notification-counter">{{notifications}}</h6>
            </div>
            <div class="dropdown-menu dropdown-menu-right notification-dropdown">
                <div class="width-25 text-center py-4" *ngIf="notifications == 0">  
                    <h4 class="card-title">Du har inga händelser</h4>
                    <a href="#" class="btn btn-primary" (click)=showConfirm($event)>Skicka inbjudan till en ny försändelse</a>
                </div>
                <div class="width-25">
                    <div class="container-fluid">
                        <invite-notifications *ngIf="invitationNotifications?.length > 0" [invitations]="invitations" [invitationNotifications]="invitationNotifications"></invite-notifications><!--Update child component with array, and receive event from child on change-->
                        <consignment-notification *ngIf="archivedConsignments?.length > 0"></consignment-notification>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</nav>